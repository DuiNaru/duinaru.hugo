<!doctype html><html lang=ko><head><meta charset=utf-8><title>Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기 - DuiNaru | 개발과 경험을 담는 블로그</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.74.3"><meta itemprop=name content="Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기"><meta itemprop=description content="정적 사이트 생성기로 만든 블로그는 markdown형식의 파일로 글을 관리하고 매번 빌드해서 배포 해주어야 하죠. 이를 쉽게 하기위해 Netlify CMS 와 Netlify 를 넣어보았습니다.
Netlify CMS Netlify CMS, Forestry.io와 같이 정적 사이트의 cms는 여러 가지가 있죠.
Frontend Interfaces with Hugo
어떤 서비스라도 관리를 쉽게 해주지만, Netlify 랑 같이 쓰면 좋을 거 같은 Netlify CMS를 적용해 보았습니다.
특징 netlify cms - overview
웹 베이스, 많은 정적 사이트 생성기와 같이 사용할 수 있는 등의 좋은 특징이 많습니다."><meta itemprop=datePublished content="2020-09-02T11:58:25+00:00"><meta itemprop=dateModified content="2020-09-02T11:58:25+00:00"><meta itemprop=wordCount content="968"><meta itemprop=image content><meta itemprop=keywords content="netlify,netlify cms,"><meta property="og:title" content="Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기"><meta property="og:description" content="정적 사이트 생성기로 만든 블로그는 markdown형식의 파일로 글을 관리하고 매번 빌드해서 배포 해주어야 하죠. 이를 쉽게 하기위해 Netlify CMS 와 Netlify 를 넣어보았습니다.
Netlify CMS Netlify CMS, Forestry.io와 같이 정적 사이트의 cms는 여러 가지가 있죠.
Frontend Interfaces with Hugo
어떤 서비스라도 관리를 쉽게 해주지만, Netlify 랑 같이 쓰면 좋을 거 같은 Netlify CMS를 적용해 보았습니다.
특징 netlify cms - overview
웹 베이스, 많은 정적 사이트 생성기와 같이 사용할 수 있는 등의 좋은 특징이 많습니다."><meta property="og:type" content="article"><meta property="og:url" content="https://duinaru.github.io/posts/2020-09-02-make-blog-with-netlifycms-netlify/"><meta property="og:image" content><meta property="article:published_time" content="2020-09-02T11:58:25+00:00"><meta property="article:modified_time" content="2020-09-02T11:58:25+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content><meta name=twitter:title content="Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기"><meta name=twitter:description content="정적 사이트 생성기로 만든 블로그는 markdown형식의 파일로 글을 관리하고 매번 빌드해서 배포 해주어야 하죠. 이를 쉽게 하기위해 Netlify CMS 와 Netlify 를 넣어보았습니다.
Netlify CMS Netlify CMS, Forestry.io와 같이 정적 사이트의 cms는 여러 가지가 있죠.
Frontend Interfaces with Hugo
어떤 서비스라도 관리를 쉽게 해주지만, Netlify 랑 같이 쓰면 좋을 거 같은 Netlify CMS를 적용해 보았습니다.
특징 netlify cms - overview
웹 베이스, 많은 정적 사이트 생성기와 같이 사용할 수 있는 등의 좋은 특징이 많습니다."><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css><link rel=stylesheet href=/css/bundle.min.307f33cd8015e5bab28d6ebda9b400f8d3059bc248b4e60adf4d23469fab5a2b.css integrity="sha256-MH8zzYAV5bqyjW69qbQA+NMFm8JItOYK300jRp+rWis="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>DuiNaru</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class="fa fa-home"></i>Home</a>
<a href=/categories/ class="nav link"><i class="fa fa-sitemap"></i>Categories</a>
<a href=/tags/ class="nav link"><i class="fa fa-tags"></i>Tags</a>
<a href=#share-menu class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#share-menu class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
<a href=#lang-menu class="nav lang-toggle" lang=ko>ko</a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu><menu id=lang-menu class="flyout-menu menu"><a href=# lang=ko class="nav link active">한국어 (ko)</a>
<a href=https://duinaru.github.io/ja/posts/2020-09-02-make-blog-with-netlifycms-netlify/ lang=ja class="nav link">日本語 (ja)</a></menu>
<menu id=share-menu class="flyout-menu menu"><h1>Share Post</h1><a href="//twitter.com/share?text=Netlify%20CMS%20%2b%20Netlify%20%eb%a1%9c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%ec%82%ac%ec%9d%b4%ed%8a%b8%20%ea%b4%80%eb%a6%ac%20%eb%b0%8f%20%eb%b0%b0%ed%8f%ac%20%ec%9e%90%eb%8f%99%ed%99%94%20%ed%95%98%ea%b8%b0&url=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="mailto:?subject=%ec%9d%b4%20%ea%b8%80%ec%9d%84%20%ec%b2%b4%ed%81%ac%ec%95%84%ec%9b%83 %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=https://duinaru.github.io/img/main/logo.jpg class=circle width=100 alt="DuiNaru's Blog"></a><header><h1>DuiNaru</h1></header><main><p>IT에 대한 이런저런 경험을 담아봅니다</p></main></section><main id=site-main><article class=post><header><div class=title><h2><a href=/posts/2020-09-02-make-blog-with-netlifycms-netlify/>Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기</a></h2></div><div class=meta><time datetime="2020-09-02 11:58:25.866 +0000 UTC">2020-09-02</time><p>5분 소요</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Netlify%20CMS%20%2b%20Netlify%20%eb%a1%9c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%ec%82%ac%ec%9d%b4%ed%8a%b8%20%ea%b4%80%eb%a6%ac%20%eb%b0%8f%20%eb%b0%b0%ed%8f%ac%20%ec%9e%90%eb%8f%99%ed%99%94%20%ed%95%98%ea%b8%b0&url=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="mailto:?subject=%ec%9d%b4%20%ea%b8%80%ec%9d%84%20%ec%b2%b4%ed%81%ac%ec%95%84%ec%9b%83 %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=https%3a%2f%2fduinaru.github.io%2fposts%2f2020-09-02-make-blog-with-netlifycms-netlify%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><a href=/posts/2020-09-02-make-blog-with-netlifycms-netlify/ class=image><img src=https://duinaru.github.io/img/uploads/netlifycms.png alt=netlifycms+netlify></a><p>정적 사이트 생성기로 만든 블로그는 markdown형식의 파일로 글을 관리하고 매번 빌드해서 배포 해주어야 하죠. 이를 쉽게 하기위해 Netlify CMS 와 Netlify 를 넣어보았습니다.</p><h1 id=netlify-cmshttpswwwnetlifycmsorg><a href=https://www.netlifycms.org/>Netlify CMS</a></h1><p>Netlify CMS, Forestry.io와 같이 정적 사이트의 cms는 여러 가지가 있죠.</p><p><a href=https://gohugo.io/tools/frontends/>Frontend Interfaces with Hugo</a></p><p>어떤 서비스라도 관리를 쉽게 해주지만, Netlify 랑 같이 쓰면 좋을 거 같은 Netlify CMS를 적용해 보았습니다.</p><h2 id=특징>특징</h2><p><a href=https://www.netlifycms.org/docs/intro/>netlify cms - overview</a></p><p>웹 베이스, 많은 정적 사이트 생성기와 같이 사용할 수 있는 등의 좋은 특징이 많습니다.</p><p>가장 큰 특징이라하면 Git을 베이스로 관리한 다는 점이라고 생각되네요. 글 작성하면 commit이 되고, 작성 완료하면 pull request가 되고, 완료한 글을 다시 수정하려면 새로 commit이 되는 것인데, 개발하고 똑같네요. 글 작성 완료하기 전까지 branch를 따로 만들어서 관리할 수도 있습니다.</p><h2 id=설치>설치</h2><h3 id=템플릿에서-시작하기>템플릿에서 시작하기</h3><p><a href=https://www.netlifycms.org/docs/start-with-a-template/>netlify cms - Start with a Template</a></p><p>가장 빠르게 시작할 수 있는 방법입니다. hugo와 같은 정적 사이트 생성기로 사이트를 만들어 둘 필요도 없고, 모든 설정이 완료 되어 있는 템플릿에서 블로그 사이트를 시작하는 것이지요.</p><p>새로 시작하려는 분이나 일단 뭔지 보고 싶다 하시는 분에게 추천드립니다.</p><h3 id=기존-사이트에-추가하기>기존 사이트에 추가하기</h3><p><a href=https://www.netlifycms.org/docs/add-to-your-site/>netlify cms - Add to Your Site</a></p><p>이미 운영하고 있는 블로그 사이트가 있거나, 처음부터 설정해 나가고 싶으시면 직접 설치 할 수 있습니다.</p><p>다운로드나 설정도 간단하니 쉽게 할 수 있습니다.</p><h4 id=파일-생성>파일 생성</h4><p>관리 페이지 파일과 설정 파일을 만들어 주어야 합니다. 파일의 위치는 다음과 같습니다.</p><blockquote><table><thead><tr><th>These generators &mldr;</th><th>store static files in</th></tr></thead><tbody><tr><td>Jekyll, GitBook</td><td>/ (project root)</td></tr><tr><td>Hugo, Gatsby, Nuxt, Gridsome, Zola, Sapper</td><td>/static</td></tr><tr><td>Next</td><td>/public</td></tr><tr><td>Hexo, Middleman, Jigsaw</td><td>/source</td></tr><tr><td>Spike</td><td>/views</td></tr><tr><td>Wyam</td><td>/input</td></tr><tr><td>Pelican</td><td>/content</td></tr><tr><td>VuePress</td><td>/.vuepress/public</td></tr><tr><td>Elmstatic</td><td>/_site</td></tr><tr><td>11ty</td><td>/_site</td></tr><tr><td>preact-cli</td><td>/src/static</td></tr></tbody></table><p><a href=https://www.netlifycms.org/docs/add-to-your-site/#app-file-structure>https://www.netlifycms.org/docs/add-to-your-site/#app-file-structure</a></p></blockquote><p>정적 사이트 생성기 별로 빌드할 때, 웹 페이지가 그대로 배포되는 위치입니다. hugo로 만든 블로그 사이트에 배포 할 것이니 static 폴더 에 만들어 주면 되겠네요.</p><p>해당 폴더에 admin이라는 폴더를 만들고 다음 파일 2개를 만들어 줍시다.</p><blockquote><p>index.html</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!doctype html&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
&lt;<span style=color:#f92672>head</span>&gt;
  &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span> /&gt;
  &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;viewport&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width=device-width, initial-scale=1.0&#34;</span> /&gt;
  &lt;<span style=color:#f92672>title</span>&gt;Content Manager&lt;/<span style=color:#f92672>title</span>&gt;
&lt;/<span style=color:#f92672>head</span>&gt;
&lt;<span style=color:#f92672>body</span>&gt;
  <span style=color:#75715e>&lt;!-- Include the script that builds the page and powers Netlify CMS --&gt;</span>
  &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
  &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://identity.netlify.com/v1/netlify-identity-widget.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
  &lt;<span style=color:#f92672>script</span>&gt;
  <span style=color:#66d9ef>if</span> (window.<span style=color:#a6e22e>netlifyIdentity</span>) {
    window.<span style=color:#a6e22e>netlifyIdentity</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;init&#34;</span>, <span style=color:#a6e22e>user</span> =&gt; {
      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) {
        window.<span style=color:#a6e22e>netlifyIdentity</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;login&#34;</span>, () =&gt; {
          document.<span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>href</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;/admin/&#34;</span>;
        });
      }
    });
  }
&lt;/<span style=color:#f92672>script</span>&gt;
&lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>config.yml</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#66d9ef>backend</span>:
  <span style=color:#66d9ef>name</span>: git-gateway
  <span style=color:#66d9ef>branch</span>: master <span style=color:#75715e># Branch to update (optional; defaults to master)</span>

<span style=color:#75715e># This line should *not* be indented</span>
<span style=color:#66d9ef>publish_mode</span>: editorial_workflow

<span style=color:#75715e># These lines should *not* be indented</span>
<span style=color:#66d9ef>media_folder</span>: <span style=color:#e6db74>&#34;/static/img/uploads&#34;</span> <span style=color:#75715e># Media files will be stored in the repo under static/images/uploads</span>
<span style=color:#66d9ef>public_folder</span>: <span style=color:#e6db74>&#34;/img/uploads&#34;</span> <span style=color:#75715e># The src attribute for uploaded media will begin with /images/uploads</span>

<span style=color:#66d9ef>collections</span>:
  - <span style=color:#66d9ef>name</span>: <span style=color:#e6db74>&#34;blog&#34;</span> <span style=color:#75715e># Used in routes, e.g., /admin/collections/blog</span>
    <span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Blog&#34;</span> <span style=color:#75715e># Used in the UI</span>
    <span style=color:#66d9ef>folder</span>: <span style=color:#e6db74>&#34;_posts/blog&#34;</span> <span style=color:#75715e># The path to the folder where the documents are stored</span>
    <span style=color:#66d9ef>create</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># Allow users to create new documents in this collection</span>
    <span style=color:#66d9ef>slug</span>: <span style=color:#e6db74>&#34;{{year}}-{{month}}-{{day}}-{{slug}}&#34;</span> <span style=color:#75715e># Filename template, e.g., YYYY-MM-DD-title.md</span>
    <span style=color:#66d9ef>fields</span>: <span style=color:#75715e># The fields for each document, usually in front matter</span>
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Layout&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;layout&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;hidden&#34;</span><span style=color:#66d9ef>, default</span>: <span style=color:#e6db74>&#34;blog&#34;</span>}
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Title&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;title&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;string&#34;</span>}
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Publish Date&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;date&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;datetime&#34;</span>}
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Featured Image&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;thumbnail&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;image&#34;</span>}
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Rating (scale of 1-5)&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;rating&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;number&#34;</span>}
      - {<span style=color:#66d9ef>label</span>: <span style=color:#e6db74>&#34;Body&#34;</span><span style=color:#66d9ef>, name</span>: <span style=color:#e6db74>&#34;body&#34;</span><span style=color:#66d9ef>, widget</span>: <span style=color:#e6db74>&#34;markdown&#34;</span>}
</code></pre></div><p><a href=https://www.netlifycms.org/docs/add-to-your-site/#configuration>https://www.netlifycms.org/docs/add-to-your-site/#configuration</a></p></blockquote><p>index.html은 Netlfiy CMS에 접속하기 한 페이지이고, config.yml은 설정 파일입니다.</p><p>이 이외도 여러 설정이 있으니, <a href=https://www.netlifycms.org/docs/add-to-your-site/#configuration>공식 홈페이지</a>에서 찾아볼 수 있습니다.</p><h4 id=확인>확인</h4><p>netlfiy cms 페이지를 확인해 봅시다.</p><p><code>hugo -serve</code> 로 구동 후, <a href=http://localhost:1313/admin>http://localhost:1313/admin</a> 에 접속하면 로그인 화면이 나올 것 입니다.</p><p><img src=/img/uploads/netlfiy_cms_login_page.png alt title="netlfy cms login page"></p><h4 id=netlify-설정-파일-생성>Netlify 설정 파일 생성</h4><p>이후부터는 Netlify에 배포하고 사용하게 됩니다. 그러기 위해서 블로그 사이트 경로에 netlify.toml 파일을 작성해줍니다. 해당 파일은 Netlify 설정파일로써, 빌드 명령어나 환경 변수 등을 지정할 수 있습니다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=color:#75715e>#/my-blog/netlify.toml</span>

[<span style=color:#a6e22e>build</span>]
<span style=color:#a6e22e>publish</span> = <span style=color:#e6db74>&#34;public&#34;</span>
<span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#34;hugo --gc --minify&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>production</span>.<span style=color:#a6e22e>environment</span>]
<span style=color:#a6e22e>HUGO_VERSION</span> = <span style=color:#e6db74>&#34;0.74.3&#34;</span>
<span style=color:#a6e22e>HUGO_ENV</span> = <span style=color:#e6db74>&#34;production&#34;</span>
<span style=color:#a6e22e>HUGO_ENABLEGITINFO</span> = <span style=color:#e6db74>&#34;true&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>split1</span>]
<span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#34;hugo --gc --minify --enableGitInfo&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>split1</span>.<span style=color:#a6e22e>environment</span>]
<span style=color:#a6e22e>HUGO_VERSION</span> = <span style=color:#e6db74>&#34;0.74.3&#34;</span>
<span style=color:#a6e22e>HUGO_ENV</span> = <span style=color:#e6db74>&#34;production&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>deploy</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>preview</span>]
<span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#34;hugo --gc --minify --buildFuture -b $DEPLOY_PRIME_URL&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>deploy</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>preview</span>.<span style=color:#a6e22e>environment</span>]
<span style=color:#a6e22e>HUGO_VERSION</span> = <span style=color:#e6db74>&#34;0.74.3&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>branch</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>deploy</span>]
<span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#34;hugo --gc --minify -b $DEPLOY_PRIME_URL&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>branch</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>deploy</span>.<span style=color:#a6e22e>environment</span>]
<span style=color:#a6e22e>HUGO_VERSION</span> = <span style=color:#e6db74>&#34;0.74.3&#34;</span>

[<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>next</span>.<span style=color:#a6e22e>environment</span>]
<span style=color:#a6e22e>HUGO_ENABLEGITINFO</span> = <span style=color:#e6db74>&#34;true&#34;</span>
</code></pre></div><h4 id=repository-생성>Repository 생성</h4><p>Netlify에 배포하기 위해 <a href=https://github.com/>GitHub</a>, <a href=https://about.gitlab.com/>GitLab</a>, <a href=https://bitbucket.org/>Bitbucket</a> 중 하나에 지금까지 작성한 블로그 사이트 Repository를 만들어서 Push해줍니다.</p><h1 id=netlify>Netlify</h1><h2 id=netlify-배포>Netlify 배포</h2><h3 id=로그인>﻿로그인</h3><p>Netlify에 접속해서 로그인을 합니다.</p><p><a href=https://www.netlify.com/>https://www.netlify.com/</a></p><p>이후, New site from Git 으로 사이트를 생성합니다. 처음 계정을 생성하신 분이라면, 바로 사이트 생성화면이 나올 수도 있습니다.</p><p><img src=/img/uploads/netlify_my_sites.png alt title="New site from Git"></p><h3 id=사이트-생성>사이트 생성</h3><p>Repository를 만든 Git을 연결해줍니다.</p><p><img src=/img/uploads/netlify_create_site_1.png alt title="create a new site"></p><p>그러고 나면 Repository를 선택하는 화면이 나올텐데, 블로그 사이트 Repository를 선택해 줍니다.</p><p><img src=/img/uploads/netlify_create_site_2.png alt title="choose repository"></p><p>이제, Branch와 빌드 명령어를 설정해주면 끝납니다.</p><p><img src=/img/uploads/netlify_create_site_3.png alt title="deploy site"></p><p>Deploy site버튼을 눌러서 Site를 생성해줍니다.</p><p>Hugo Future Imperfect Slim를 clone으로 넣었더니, 화면처럼 Failed로 실패라고 나왔습니다. submodule로 넣은 경우에는 나오지 않을 것입니다.</p><p><img src=/img/uploads/netlify_create_site_fail.png alt title="create site fail"></p><p>Submodule Path가 없다는 에러여서 .gitmodules 파일을 블로그 사이트 경로에 만들고, Push해주었습니다.</p><blockquote><p>.gitmodules</p><pre><code>[submodule &quot;hugo-future-imperfect-slim&quot;]
	path = themes/hugo-future-imperfect-slim
	url = https://github.com/pacollins/hugo-future-imperfect-slim.git
</code></pre></blockquote><h3 id=생성-확인>생성 확인</h3><p>성공하면 다음처럼 Published를 확인 할 수 있습니다.</p><p><img src=/img/uploads/netlify_create_site_success.png alt title="create site success"></p><h2 id=사이트-확인>사이트 확인</h2><p>화면에 표시된 URL에 접속하면 블로그 사이트를 확인 할 수 있습니다.</p><p><img src=/img/uploads/hugo-future-imperfect-slim.png alt title="main page"></p><h2 id=netlify-설정>Netlify 설정</h2><p>이제 Netlify CMS를 사용하기 위해 Netlify에서 로그인 관련 설정을 해 줄 것입니다.</p><h3 id=identity>Identity</h3><p>메뉴에서 Identity을 활성해 줍니다. 이 기능을 사용함으로써, 가입 등의 인증 관련 기능을 사용 할 수 있습니다.</p><p><img src=/img/uploads/netlify_enable_identity.png alt title="enable identity"></p><h3 id=enable-git-gateway>Enable Git Gateway</h3><p>Netlify CMS 에서 Git 을 처리하기 위해 사용 설정을 해 줍니다. Settings - Identity 메뉴에 Services - Git Gateway 에 있는 Enable Git Gateway 버튼을 클릭합니다.</p><p><img src=/img/uploads/netlify_enable_git_gateway.png alt title="enable git gateway"></p><h3 id=초대-전용으로-설정>초대 전용으로 설정</h3><p>Settings - Identity - Registration 에서 Edit 버튼을 눌러서 Invite only로 바꿔줍시다. 이 설정으로 누구나 아이디를 생성할 수 없게 됩니다.</p><p><img src=/img/uploads/netlify_invite_registration.png alt title="registration invite only"></p><h3 id=아이디-추가>아이디 추가</h3><p>이제 아이디를 추가해 줄 것입니다.</p><p>Invite users를 클릭하여, 이메일을 적어주고 Send를 눌러줍시다.</p><p><img src=/img/uploads/netlify_invite_users.png alt title=invite_users></p><p>해당 이메일로 인증메일이 도착해 있을 것입니다. Accept the invite 를 클릭하면 블로그 사이트로 이동됩니다.</p><p>URL이 아래와 비슷할텐데, 중간에 admin을 넣어서 CMS 페이지로 바꿔 줍니다.</p><p>변경 전</p><p><code>https://trusting-curran-e13b73.netlify.app/#invite_token=-W5a_7Eao-GCIMVEpr97Vw</code></p><p>변경 후</p><p><code>https://trusting-curran-e13b73.netlify.app/admin#invite_token=-W5a_7Eao-GCIMVEpr97Vw</code></p><p>그러면, 비밀번호를 설정하는 화면이 나옵니다.</p><p><img src=/img/uploads/netlifycms_signup.png alt title="sign up"></p><h1 id=확인-1>확인</h1><p>비밀번호를 설정하고 나면 자동으로 로그인이 되고 아래와 같은 페이지가 나옵니다.</p><p><img src=/img/uploads/netlifycms_main_page.png alt></p><p>이제 New Blog 를 눌러서 글을 쓰는 등의 Netlify CMS를 사용 할 수 있게 되었습니다.</p><h1 id=후기>후기</h1><p>글을 쓰다보니 꽤 길어졌네요. Netlify CMS를 설정해두면 웹에서 바로 글을 작성할 수 있어서 편합니다.</p><p>그러나, 한국어나 일본어 작성이 중간중간 씹히는 현상이 생기는 군요. 영어는 문제 없는 걸로 보아 CMS 스크립트가 영어 위주로 생각해서 만들어 진 모양입니다.</p><p>이미지 업로드는 편해서 만족하는데, 글 씹히는 건 천천히 해결해 봐야 겠네요.</p></div><footer><div class=stats><ul class=categories><li><a class=article-terms-link href=/categories/blog/>blog</a></li></ul><ul class=tags><li><a class=article-terms-link href=/tags/netlify/>netlify</a></li><li><a class=article-terms-link href=/tags/netlify-cms/>netlify cms</a></li></ul></div></footer></article><article class=post><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"duinaru"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article><div class=pagination><a href=/posts/2020-09-11-deloy-github-pages-with-actions/ class="button left"><span>GitHub Actions으로 GitHub Pages에 배포하기</span></a>
<a href=/posts/2020-08-23-blog-with-hugo/ class="button right"><span>Hugo로 블로그 만들기</span></a></div></main><section id=site-sidebar><section id=recent-posts><header><h1>최신 글</h1></header><article class=mini-post><a href=/posts/2021-05-17-aws-summit-online-day2/ class=image><img src=https://duinaru.github.io/img/uploads/aws-summit-online-2021.png alt="aws summit online japan"></a><header><h2><a href=/posts/2021-05-17-aws-summit-online-day2/>AWS summit online japan 2021 2일차 후기</a></h2><time class=published datetime="2021-05-17 14:52:17.254 +0000 UTC">2021-05-17</time></header></article><article class=mini-post><a href=/posts/2021-05-16-aws-summit-online-day1/ class=image><img src=https://duinaru.github.io/img/uploads/aws-summit-online-2021.png alt="aws summit online japan"></a><header><h2><a href=/posts/2021-05-16-aws-summit-online-day1/>AWS summit online japan 2021 1일차 후기</a></h2><time class=published datetime="2021-05-16 07:41:06.376 +0000 UTC">2021-05-16</time></header></article><article class=mini-post><a href=/posts/2020-12-11-githubuniverse2020/ class=image><img src=https://duinaru.github.io/img/uploads/github-universe-2020.jpg alt="GitHub Universe 2020"></a><header><h2><a href=/posts/2020-12-11-githubuniverse2020/>GitHub Universe 2020 후기</a></h2><time class=published datetime="2020-12-11 14:33:03.404 +0000 UTC">2020-12-11</time></header></article><article class=mini-post><a href=/posts/2020-09-11-deloy-github-pages-with-actions/ class=image><img src=https://duinaru.github.io/img/uploads/githubactions.png alt="GitHub Actions"></a><header><h2><a href=/posts/2020-09-11-deloy-github-pages-with-actions/>GitHub Actions으로 GitHub Pages에 배포하기</a></h2><time class=published datetime="2020-09-11 13:13:36.621 +0000 UTC">2020-09-11</time></header></article><article class=mini-post><a href=/posts/2020-09-02-make-blog-with-netlifycms-netlify/ class=image><img src=https://duinaru.github.io/img/uploads/netlifycms.png alt=netlifycms+netlify></a><header><h2><a href=/posts/2020-09-02-make-blog-with-netlifycms-netlify/>Netlify CMS + Netlify 로 블로그 사이트 관리 및 배포 자동화 하기</a></h2><time class=published datetime="2020-09-02 11:58:25.866 +0000 UTC">2020-09-02</time></header></article><footer><a href=/posts/ class=button>더 보기</a></footer></section><section id=categories><header><h1><a href=/categories>카테고리</a></h1></header><ul><li><a href=/categories/programming/>programming<span class=count>5</span></a><li><a href=/categories/aws/>aws<span class=count>4</span></a><li><a href=/categories/blog/>blog<span class=count>4</span></a><li><a href=/categories/event/>event<span class=count>1</span></a></li></ul></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/duinaru/duinaru.github.io target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=mailto:duinaru@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2021 DuiNaru | 개발과 경험을 담는 블로그<br>Theme: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>A <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP port</a> | Powered by <a href=https://gohugo.io/ title=0.74.3 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a><script src=/js/highlight.js></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/bundle.min.e8d7df665d6ea5bd5d98711fcf59c4b867eb1ebce468c5a71dccb61d5e671e50.js integrity="sha256-6NffZl1upb1dmHEfz1nEuGfrHrzkaMWnHcy2HV5nHlA="></script><script src=/js/add-on.js></script><script src=https://identity.netlify.com/v1/netlify-identity-widget.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-175500005-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>